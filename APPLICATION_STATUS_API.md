# üéØ API –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –æ—Ç–∫–ª–∏–∫–Ω—É–≤—à–∏—Ö—Å—è –∏ –Ω–µ –æ—Ç–∫–ª–∏–∫–Ω—É–≤—à–∏—Ö—Å—è –≤–∞–∫–∞–Ω—Å–∏–π

## –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –æ—Ç–∫–ª–∏–∫–∞–ª—Å—è, –∏ —Ç–µ—Ö, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –æ—Ç–∫–ª–∏–∫–∞–ª—Å—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API

### 1. –≠–Ω–¥–ø–æ–∏–Ω—Ç `/jobs` (GET)

**–ë—ã–ª–æ:**
```json
{
  "jobs": [
    {
      "id": "job_id",
      "title": "Frontend Developer",
      "description": "...",
      "location": "–ú–æ—Å–∫–≤–∞",
      "type": "FULL_TIME"
    }
  ]
}
```

**–°—Ç–∞–ª–æ:**
```json
{
  "jobs": [
    {
      "id": "job_id",
      "title": "Frontend Developer", 
      "description": "...",
      "location": "–ú–æ—Å–∫–≤–∞",
      "type": "FULL_TIME",
      "hasApplied": true,
      "applicationStatus": "PENDING",
      "appliedAt": "2024-01-15T00:00:00.000Z"
    }
  ]
}
```

### 2. –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ –æ—Ç–≤–µ—Ç–µ

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `hasApplied` | boolean | –û—Ç–∫–ª–∏–∫–∞–ª—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —ç—Ç—É –≤–∞–∫–∞–Ω—Å–∏—é |
| `applicationStatus` | string \| null | –°—Ç–∞—Ç—É—Å –æ—Ç–∫–ª–∏–∫–∞ (PENDING, ACCEPTED, REJECTED, etc.) |
| `appliedAt` | string \| null | –î–∞—Ç–∞ –æ—Ç–∫–ª–∏–∫–∞ |

### 3. –°—Ç–∞—Ç—É—Å—ã –æ—Ç–∫–ª–∏–∫–æ–≤

- `PENDING` - –û–∂–∏–¥–∞–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è
- `REVIEWED` - –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω  
- `ACCEPTED` - –ü—Ä–∏–Ω—è—Ç
- `REJECTED` - –û—Ç–∫–ª–æ–Ω–µ–Ω
- `INTERVIEW_SCHEDULED` - –ò–Ω—Ç–µ—Ä–≤—å—é –Ω–∞–∑–Ω–∞—á–µ–Ω–æ
- `HIRED` - –ù–∞–Ω—è—Ç
- `WITHDRAWN` - –û—Ç–æ–∑–≤–∞–Ω

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### JavaScript (Frontend)

```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç–∞—Ç—É—Å–µ –æ—Ç–∫–ª–∏–∫–æ–≤
async function getJobsWithApplicationStatus(token) {
  const response = await fetch('/jobs?page=1&limit=10', {
    headers: {
      'Authorization': `Bearer ${token}`
    }
  });
  
  const data = await response.json();
  return data.jobs;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
getJobsWithApplicationStatus(userToken)
  .then(jobs => {
    jobs.forEach(job => {
      if (job.hasApplied) {
        console.log(`‚úÖ –û—Ç–∫–ª–∏–∫–Ω—É–ª—Å—è –Ω–∞ "${job.title}" - —Å—Ç–∞—Ç—É—Å: ${job.applicationStatus}`);
        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫–ª–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω" –∏–ª–∏ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å"
      } else {
        console.log(`‚ùå –ù–µ –æ—Ç–∫–ª–∏–∫–∞–ª—Å—è –Ω–∞ "${job.title}"`);
        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è"
      }
    });
  });
```

### React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```jsx
function JobCard({ job }) {
  const getButtonText = () => {
    if (!job.hasApplied) {
      return '–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è';
    }
    
    switch (job.applicationStatus) {
      case 'PENDING':
        return '–û–∂–∏–¥–∞–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è';
      case 'ACCEPTED':
        return '–ü—Ä–∏–Ω—è—Ç';
      case 'REJECTED':
        return '–û—Ç–∫–ª–æ–Ω–µ–Ω';
      case 'INTERVIEW_SCHEDULED':
        return '–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–æ';
      default:
        return '–û—Ç–∫–ª–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω';
    }
  };
  
  const getButtonClass = () => {
    if (!job.hasApplied) return 'btn-primary';
    
    switch (job.applicationStatus) {
      case 'PENDING':
        return 'btn-warning';
      case 'ACCEPTED':
        return 'btn-success';
      case 'REJECTED':
        return 'btn-danger';
      default:
        return 'btn-secondary';
    }
  };
  
  return (
    <div className="job-card">
      <h3>{job.title}</h3>
      <p>{job.description}</p>
      <button 
        className={`btn ${getButtonClass()}`}
        disabled={job.hasApplied && job.applicationStatus !== 'REJECTED'}
      >
        {getButtonText()}
      </button>
    </div>
  );
}
```

### cURL –ø—Ä–∏–º–µ—Ä—ã

```bash
# –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (hasApplied –≤—Å–µ–≥–¥–∞ false)
curl -X GET http://localhost:3000/jobs?page=1&limit=5

# –° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –æ—Ç–∫–ª–∏–∫–æ–≤)
curl -X GET http://localhost:3000/jobs?page=1&limit=5 \
  -H "Authorization: Bearer <your_jwt_token>"
```

## üîç –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `hasApplied: false`
- `applicationStatus: null`
- `appliedAt: null`

### 2. –° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- –°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –ø–æ `userId`
- –ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–∫–ª–∏–∫–∏ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏–∏
- –ï—Å–ª–∏ –æ—Ç–∫–ª–∏–∫ –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ —Å—Ç–∞—Ç—É—Å –∏ –¥–∞—Ç—É
- –ï—Å–ª–∏ –æ—Ç–∫–ª–∏–∫–∞ –Ω–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `hasApplied: false`

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ ‚Üí `hasApplied: false`
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚Üí `hasApplied: false`
- –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—Å–µ—Ö –æ—Ç–∫–ª–∏–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Map –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **Graceful degradation**: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–∫–∞–Ω—Å–∏–∏ –±–µ–∑ —Å—Ç–∞—Ç—É—Å–∞

## üé® UI/UX —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –∫–Ω–æ–ø–æ–∫:
- üîµ **–°–∏–Ω–∏–π** - "–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è" (–Ω–µ –æ—Ç–∫–ª–∏–∫–∞–ª—Å—è)
- üü° **–ñ–µ–ª—Ç—ã–π** - "–û–∂–∏–¥–∞–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è" (PENDING)
- üü¢ **–ó–µ–ª–µ–Ω—ã–π** - "–ü—Ä–∏–Ω—è—Ç" (ACCEPTED)
- üî¥ **–ö—Ä–∞—Å–Ω—ã–π** - "–û—Ç–∫–ª–æ–Ω–µ–Ω" (REJECTED)
- üü£ **–§–∏–æ–ª–µ—Ç–æ–≤—ã–π** - "–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–æ" (INTERVIEW_SCHEDULED)

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
- **–ù–µ –æ—Ç–∫–ª–∏–∫–∞–ª—Å—è**: –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è"
- **–û—Ç–∫–ª–∏–∫–Ω—É–ª—Å—è**: –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏ –¥–∞—Ç—É –æ—Ç–∫–ª–∏–∫–∞
- **–û—Ç–∫–ª–æ–Ω–µ–Ω**: –í–æ–∑–º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è —Å–Ω–æ–≤–∞"

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:
1. **JobsController**: –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `userId` –≤ `findAll()`
2. **JobsService**: –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `addApplicationStatusToJobs()`
3. **API Response**: –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `hasApplied`, `applicationStatus`, `appliedAt`

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- JWT —Ç–æ–∫–µ–Ω –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ù–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
