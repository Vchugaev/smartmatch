# üöÄ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π API –æ—Ç–∫–ª–∏–∫–æ–≤ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏–∏

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –æ—Ç–∫–ª–∏–∫–æ–≤ –±—ã–ª–∞ —É–ø—Ä–æ—â–µ–Ω–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞:

### ‚ùå –ë—ã–ª–æ (—Å–ª–æ–∂–Ω–æ):
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã–ª –∑–∞–ø–æ–ª–Ω—è—Ç—å —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ—Ç–∫–ª–∏–∫–µ
- –ù—É–∂–Ω–æ –±—ã–ª–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ä–µ–∑—é–º–µ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∞–∫–∞–Ω—Å–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
- –ú–Ω–æ–≥–æ –ø–æ–ª–µ–π –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è

### ‚úÖ –°—Ç–∞–ª–æ (–ø—Ä–æ—Å—Ç–æ):
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∑—é–º–µ **–æ–¥–∏–Ω —Ä–∞–∑** –≤ –ø—Ä–æ—Ñ–∏–ª—å
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫–ª–∏–∫–∞ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ `jobId`
- –†–µ–∑—é–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è –∫ –æ—Ç–∫–ª–∏–∫—É
- –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API

### 1. –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π DTO –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∫–ª–∏–∫–∞

**–ë—ã–ª–æ:**
```typescript
export class CreateApplicationDto {
  @IsString()
  jobId: string;

  @IsOptional()
  @IsString()
  @MaxLength(2000)
  coverLetter?: string;

  @IsOptional()
  @IsString()
  resumeUrl?: string;
}
```

**–°—Ç–∞–ª–æ:**
```typescript
export class CreateApplicationDto {
  @IsString()
  jobId: string;
}
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—é–º–µ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è

–°–µ—Ä–≤–∏—Å —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –ø–æ `userId`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ä–µ–∑—é–º–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç —Ä–µ–∑—é–º–µ –∫ –æ—Ç–∫–ª–∏–∫—É

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ä–µ–∑—é–º–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üìã API Endpoints

### –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∫–ª–∏–∫–∞

```http
POST /applications
Authorization: Bearer <token>
Content-Type: application/json

{
  "jobId": "job_id_here"
}
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:**
```json
{
  "id": "application_id",
  "jobId": "job_id",
  "candidateId": "candidate_profile_id",
  "hrId": "hr_id",
  "status": "PENDING",
  "resumeUrl": "https://storage.example.com/resume.pdf",
  "appliedAt": "2024-01-15T00:00:00.000Z",
  "job": {
    "id": "job_id",
    "title": "Frontend Developer",
    "hr": {
      "company": "–û–û–û –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"
    }
  },
  "candidate": {
    "firstName": "–ê–Ω–Ω–∞",
    "lastName": "–°–º–∏—Ä–Ω–æ–≤–∞"
  }
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `404` - –í–∞–∫–∞–Ω—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `404` - –ü—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω
- `409` - –í—ã —É–∂–µ –æ—Ç–∫–ª–∏–∫–∞–ª–∏—Å—å –Ω–∞ —ç—Ç—É –≤–∞–∫–∞–Ω—Å–∏—é
- `409` - –î–ª—è –æ—Ç–∫–ª–∏–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—é–º–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å

### –ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ–∏—Ö –æ—Ç–∫–ª–∏–∫–æ–≤

```http
GET /applications/my
Authorization: Bearer <token>
```

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": "application_id",
    "status": "PENDING",
    "appliedAt": "2024-01-15T00:00:00.000Z",
    "job": {
      "id": "job_id",
      "title": "Frontend Developer",
      "location": "–ú–æ—Å–∫–≤–∞",
      "type": "FULL_TIME",
      "status": "ACTIVE",
      "hr": {
        "company": "–û–û–û –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"
      }
    }
  }
]
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### JavaScript (Frontend)

```javascript
// 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—é–º–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å (–¥–µ–ª–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
async function uploadResume(file, token) {
  const formData = new FormData();
  formData.append('file', file);
  
  const response = await fetch('/profiles/candidate/resume', {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${token}` },
    body: formData
  });
  
  return response.json();
}

// 2. –û—Ç–∫–ª–∏–∫ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é (–ø—Ä–æ—Å—Ç–∞—è –∫–Ω–æ–ø–∫–∞)
async function applyToJob(jobId, token) {
  const response = await fetch('/applications', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ jobId })
  });
  
  return response.json();
}

// 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ–∏—Ö –æ—Ç–∫–ª–∏–∫–æ–≤
async function getMyApplications(token) {
  const response = await fetch('/applications/my', {
    headers: { 'Authorization': `Bearer ${token}` }
  });
  
  return response.json();
}
```

### React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```jsx
import React, { useState } from 'react';

function JobApplication({ jobId }) {
  const [isApplied, setIsApplied] = useState(false);
  const [loading, setLoading] = useState(false);

  const handleApply = async () => {
    setLoading(true);
    try {
      await applyToJob(jobId, token);
      setIsApplied(true);
      alert('–û—Ç–∫–ª–∏–∫ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!');
    } catch (error) {
      alert(`–û—à–∏–±–∫–∞: ${error.message}`);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div>
      <button 
        onClick={handleApply}
        disabled={loading || isApplied}
        className="apply-button"
      >
        {loading ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : isApplied ? '–û—Ç–∫–ª–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω' : '–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è'}
      </button>
    </div>
  );
}
```

### HTML —Ñ–æ—Ä–º–∞

```html
<!DOCTYPE html>
<html>
<head>
    <title>–û—Ç–∫–ª–∏–∫ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é</title>
</head>
<body>
    <h1>–û—Ç–∫–ª–∏–∫ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é</h1>
    
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—é–º–µ (–æ–¥–∏–Ω —Ä–∞–∑) -->
    <div>
        <h3>1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ–∑—é–º–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å</h3>
        <input type="file" id="resumeFile" accept=".pdf,.doc,.docx">
        <button onclick="uploadResume()">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—é–º–µ</button>
    </div>
    
    <!-- –û—Ç–∫–ª–∏–∫ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é -->
    <div>
        <h3>2. –û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é</h3>
        <input type="text" id="jobId" placeholder="ID –≤–∞–∫–∞–Ω—Å–∏–∏">
        <button onclick="applyToJob()">–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</button>
    </div>
    
    <script>
        async function applyToJob() {
            const jobId = document.getElementById('jobId').value;
            const response = await fetch('/applications', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${token}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ jobId })
            });
            
            if (response.ok) {
                alert('–û—Ç–∫–ª–∏–∫ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!');
            } else {
                const error = await response.json();
                alert(`–û—à–∏–±–∫–∞: ${error.message}`);
            }
        }
    </script>
</body>
</html>
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–∫–ª–∏–∫–∏ —Å `coverLetter` –∏ `resumeUrl` –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ù–æ–≤—ã–µ –æ—Ç–∫–ª–∏–∫–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ–∑—é–º–µ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è.

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫–ª–∏–∫–∞
2. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –æ–¥–Ω–æ —Ä–µ–∑—é–º–µ –¥–ª—è –≤—Å–µ—Ö –æ—Ç–∫–ª–∏–∫–æ–≤
3. **–ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ä–µ–∑—é–º–µ
4. **–õ—É—á—à–∏–π UX** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –æ–¥–∏–Ω —Ä–∞–∑
5. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –º–µ–Ω—å—à–µ –ø–æ–ª–µ–π –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–µ–∑—é–º–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** - –±–µ–∑ —Ä–µ–∑—é–º–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –æ—Ç–∫–ª–∏–∫ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω
2. **–ü—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫–ª–∏–∫–µ
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ –æ—Ç–∫–ª–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Å–ª–æ–≤–∏—è

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ó–∞–≥—Ä—É–∂–µ–Ω–æ –ª–∏ —Ä–µ–∑—é–º–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å
- –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –≤–∞–∫–∞–Ω—Å–∏—è
- –ù–µ –æ—Ç–∫–ª–∏–∫–∞–ª–∏—Å—å –ª–∏ —É–∂–µ –Ω–∞ —ç—Ç—É –≤–∞–∫–∞–Ω—Å–∏—é
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
